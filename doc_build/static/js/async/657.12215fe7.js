(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["657"],{9497:function(n,i,e){"use strict";e.r(i);var t=e("2676"),r=e("453");function a(n){let i=Object.assign({h1:"h1",a:"a",div:"div",p:"p",code:"code",h2:"h2",pre:"pre"},(0,r.ah)(),n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.h1,{id:"app-\u5982\u4F55\u6253\u5F00\u5E94\u7528\u901A\u77E5\u6743\u9650",children:[(0,t.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#app-\u5982\u4F55\u6253\u5F00\u5E94\u7528\u901A\u77E5\u6743\u9650",children:"#"}),"APP \u5982\u4F55\u6253\u5F00\u5E94\u7528\u901A\u77E5\u6743\u9650"]}),"\n",(0,t.jsxs)(i.div,{className:"rspress-directive warning",children:[(0,t.jsx)(i.div,{className:"rspress-directive-title",children:"\u6CE8\u610F"}),(0,t.jsx)(i.div,{className:"rspress-directive-content",children:(0,t.jsxs)(i.p,{children:["\n\u672C\u6587\u7AE0\u4F7F\u7528 uniapp \u5F00\u53D1\uFF0C\u4F7F\u7528\u4E86",(0,t.jsx)(i.code,{children:"plus"}),"\u3002\u5982\u679C\u6D89\u53CA\u591A\u7AEF\uFF0C\u9700\u8FDB\u884C\u6761\u4EF6\u7F16\u8BD1"]})})]}),"\n",(0,t.jsxs)(i.h2,{id:"\u83B7\u53D6\u901A\u77E5\u6743\u9650\u72B6\u6001",children:[(0,t.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#\u83B7\u53D6\u901A\u77E5\u6743\u9650\u72B6\u6001",children:"#"}),"\u83B7\u53D6\u901A\u77E5\u6743\u9650\u72B6\u6001"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-js",meta:"",children:'function getNotificationStatus() {\r\n  console.log(platform);\r\n  if (platform == "ios") {\r\n    //\u8FD9\u91CC\u662Fios\u7684\u65B9\u6CD5\r\n    var UIApplication = plus.ios.import("UIApplication");\r\n    var app = UIApplication.sharedApplication();\r\n    if (app.currentUserNotificationSettings) {\r\n      var settings = app.currentUserNotificationSettings();\r\n      enabledTypes = settings.plusGetAttribute("types");\r\n      console.log("enabledTypes1:" + enabledTypes);\r\n      //\u5982\u679CenabledTypes = 0 \u5C31\u662F\u901A\u77E5\u6743\u9650\u6CA1\u6709\u5F00\u542F\r\n      plus.ios.deleteObject(settings);\r\n      return enabledTypes;\r\n    }\r\n  } else if (platform == "android") {\r\n    //\u4E0B\u9762\u662F\u5B89\u5353\u7684\u65B9\u6CD5\r\n    var main = plus.android.runtimeMainActivity();\r\n    var pkName = main.getPackageName();\r\n    var uid = main.getApplicationInfo().plusGetAttribute("uid");\r\n    var NotificationManagerCompat = plus.android.importClass("android.support.v4.app.NotificationManagerCompat");\r\n    //android.support.v4\u5347\u7EA7\u4E3Aandroidx\r\n    if (NotificationManagerCompat == null) {\r\n      NotificationManagerCompat = plus.android.importClass("androidx.core.app.NotificationManagerCompat");\r\n    }\r\n    var areNotificationsEnabled = NotificationManagerCompat.from(main).areNotificationsEnabled();\r\n    console.log(areNotificationsEnabled);\r\n    return areNotificationsEnabled;\r\n    // \u672A\u5F00\u901A\u2018\u5141\u8BB8\u901A\u77E5\u2019\u6743\u9650\uFF0C\u5219\u5F39\u7A97\u63D0\u9192\u5F00\u901A\uFF0C\u5E76\u70B9\u51FB\u786E\u8BA4\u540E\uFF0C\u8DF3\u8F6C\u5230\u7CFB\u7EDF\u8BBE\u7F6E\u9875\u9762\u8FDB\u884C\u8BBE\u7F6E\r\n  }\r\n}\n'})}),"\n",(0,t.jsxs)(i.h2,{id:"\u8DF3\u8F6C\u901A\u77E5\u6743\u9650\u8BBE\u7F6E",children:[(0,t.jsx)(i.a,{className:"header-anchor","aria-hidden":"true",href:"#\u8DF3\u8F6C\u901A\u77E5\u6743\u9650\u8BBE\u7F6E",children:"#"}),"\u8DF3\u8F6C\u901A\u77E5\u6743\u9650\u8BBE\u7F6E"]}),"\n",(0,t.jsx)(i.p,{children:"Android \u53EF\u4EE5\u76F4\u63A5\u8DF3\u8F6C\u901A\u77E5\u8BBE\u7F6E\u9875\u9762\u3002ios \u9700\u8981\u8DF3\u8F6C\u8BBE\u7F6E\u9875\u9762\u540E\u5728\u624B\u52A8\u8FDB\u5165\u901A\u77E5\u8BBE\u7F6E"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-js",meta:"",children:"function openNotificationSetting() {\r\n	//\u5F39\u7A97\u6309\u94AE\u7ED1\u5B9A\u65B9\u6CD5\r\n	if (platform == 'ios') {\r\n		//\u5982\u679C\u673A\u578B\u662Fios\uFF0Cios\u7531\u4E8E\u6743\u9650\u95EE\u9898\uFF0C\u53EF\u80FD\u9700\u8981\u624B\u52A8\u5F00\u542F\r\n		var UIApplication = plus.ios.import('UIApplication')\r\n		var app = UIApplication.sharedApplication()\r\n		var settings = app.currentUserNotificationSettings()\r\n		enabledTypes = settings.plusGetAttribute('types')\r\n		var NSURL2 = plus.ios.import('NSURL')\r\n		var setting2 = NSURL2.URLWithString('app-settings:')\r\n		var application2 = UIApplication.sharedApplication()\r\n		application2.openURL(setting2)\r\n		plus.ios.deleteObject(setting2)\r\n		plus.ios.deleteObject(NSURL2)\r\n		plus.ios.deleteObject(application2)\r\n		plus.ios.deleteObject(settings)\r\n	} else if (platform == 'android') {\r\n		//\u5982\u679C\u673A\u578B\u662F\u5B89\u5353\r\n		var main = plus.android.runtimeMainActivity()\r\n		var pkName = main.getPackageName()\r\n		var uid = main.getApplicationInfo().plusGetAttribute('uid')\r\n		var Intent = plus.android.importClass('android.content.Intent')\r\n		var Build = plus.android.importClass('android.os.Build')\r\n		//android 8.0\u5F15\u5BFC\r\n		if (Build.VERSION.SDK_INT >= 26) {\r\n			//\u5224\u65AD\u5B89\u5353\u7CFB\u7EDF\u7248\u672C\r\n			var intent = new Intent('android.settings.APP_NOTIFICATION_SETTINGS')\r\n			intent.putExtra('android.provider.extra.APP_PACKAGE', pkName)\r\n		} else if (Build.VERSION.SDK_INT >= 21) {\r\n			//\u5224\u65AD\u5B89\u5353\u7CFB\u7EDF\u7248\u672C\r\n			//android 5.0-7.0\r\n			var intent = new Intent('android.settings.APP_NOTIFICATION_SETTINGS')\r\n			intent.putExtra('app_package', pkName)\r\n			intent.putExtra('app_uid', uid)\r\n		} else {\r\n			//(<21)\u5176\u4ED6--\u8DF3\u8F6C\u5230\u8BE5\u5E94\u7528\u7BA1\u7406\u7684\u8BE6\u60C5\u9875\r\n			intent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS)\r\n			var uri = Uri.fromParts('package', mainActivity.getPackageName(), null)\r\n			intent.setData(uri)\r\n		}\r\n		// \u8DF3\u8F6C\u5230\u8BE5\u5E94\u7528\u7684\u7CFB\u7EDF\u901A\u77E5\u8BBE\u7F6E\u9875\r\n		main.startActivity(intent)\r\n	}\n"})})]})}function s(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:i}=Object.assign({},(0,r.ah)(),n.components);return i?(0,t.jsx)(i,Object.assign({},n,{children:(0,t.jsx)(a,n)})):a(n)}i.default=s,s.__RSPRESS_PAGE_META={},s.__RSPRESS_PAGE_META["web%2Fdev%2F1.mdx"]={toc:[{id:"\u83B7\u53D6\u901A\u77E5\u6743\u9650\u72B6\u6001",text:"\u83B7\u53D6\u901A\u77E5\u6743\u9650\u72B6\u6001",depth:2},{id:"\u8DF3\u8F6C\u901A\u77E5\u6743\u9650\u8BBE\u7F6E",text:"\u8DF3\u8F6C\u901A\u77E5\u6743\u9650\u8BBE\u7F6E",depth:2}],title:"APP \u5982\u4F55\u6253\u5F00\u5E94\u7528\u901A\u77E5\u6743\u9650",frontmatter:{}}}}]);