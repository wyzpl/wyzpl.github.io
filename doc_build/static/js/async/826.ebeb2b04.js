"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["826"],{3733:function(e,n,r){r.r(n),r.d(n,{default:()=>t});var s=r(5893),d=r(65);function i(e){let n=Object.assign({h1:"h1",a:"a",div:"div",p:"p",h2:"h2",h3:"h3",ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre"},(0,d.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"uniapp-android本地打包配置",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#uniapp-android本地打包配置",children:"#"}),"UniApp Android本地打包配置"]}),"\n",(0,s.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,s.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,s.jsx)(n.div,{className:"rspress-directive-content",children:(0,s.jsx)(n.p,{children:"\n本文章内容配置基于Win11系统， 证书是dcloud云端证书"})})]}),"\n",(0,s.jsxs)(n.h2,{id:"参考链接",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#参考链接",children:"#"}),"参考链接"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://nativesupport.dcloud.net.cn/AppDocs/usesdk/android.html#%E9%85%8D%E7%BD%AE%E5%B7%A5%E7%A8%8B",rel:"noopener noreferrer",target:"_blank",children:"离线打包环境配置"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://nativesupport.dcloud.net.cn/AppDocs/usesdk/appkey.html",rel:"noopener noreferrer",target:"_blank",children:"离线打包常见问题"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://ask.dcloud.net.cn/article/35482",rel:"noopener noreferrer",target:"_blank",children:"打包自定义基座"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://nativesupport.dcloud.net.cn/AppDocs/package/android.html",rel:"noopener noreferrer",target:"_blank",children:"打包发行"})}),"\n",(0,s.jsxs)(n.h3,{id:"前期准备",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#前期准备",children:"#"}),"前期准备"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["配置开发环境 ",(0,s.jsx)(n.a,{href:"https://nativesupport.dcloud.net.cn/AppDocs/usesdk/android.html#appname",rel:"noopener noreferrer",target:"_blank",children:"参考官网"})," 下载所需工具"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["申请 ",(0,s.jsx)(n.a,{href:"https://nativesupport.dcloud.net.cn/AppDocs/usesdk/appkey.html",rel:"noopener noreferrer",target:"_blank",children:"Appkey"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"申请-appkey",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#申请-appkey",children:"#"}),"申请 Appkey"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["登录",(0,s.jsx)(n.a,{href:"https://dev.dcloud.net.cn/pages/app/list",rel:"noopener noreferrer",target:"_blank",children:"开发者中心"}),"，在我的应用里找到对应的 App 后生成 ",(0,s.jsx)(n.strong,{children:"Android云端证书"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["在 ",(0,s.jsx)(n.strong,{children:"证书详情"})," 里找到 ",(0,s.jsx)(n.strong,{children:"证书别名"}),"、",(0,s.jsx)(n.strong,{children:"证书密码"}),"、",(0,s.jsx)(n.strong,{children:"证书指纹（MD5、SHA1、SHA256）"}),"，并保存备份"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"下载证书 备用"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["在 ",(0,s.jsx)(n.strong,{children:"各平台信息"})," 下新增平台信息，选择 Android。然后填写相关信息（上面保存的证书指纹），并保存"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["在 ",(0,s.jsx)(n.strong,{children:"各平台信息"})," 列表创建 ",(0,s.jsx)(n.strong,{children:"离线Appkey"}),"，并保存"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"配置流程",children:[(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置流程",children:"#"}),"配置流程"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["下载 ",(0,s.jsx)(n.a,{href:"https://nativesupport.dcloud.net.cn/AppDocs/download/android.html",rel:"noopener noreferrer",target:"_blank",children:"SDK"})," 后直接使用 Android Studio 导入HBuilder-Integrate-AS工程"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["修改 ",(0,s.jsx)(n.code,{children:"src/main/res/values/strings.xml"}),"的 app_name 为应用名字 ( manifeat.json - 应用名称 )"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["修改 ",(0,s.jsx)(n.code,{children:"src/main/assets/data/dcloud_control.xml"}),"的 appid 为自己项目的 manifeat.json 的 AppId"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["修改 ",(0,s.jsx)(n.code,{children:"AndroidManifest.xml"})," 文件下的 AppKey 为自己项目的 Appkey"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["修改 ",(0,s.jsx)(n.code,{children:"simpleDemo/build.gradle"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-gradle",children:"    android{\r\n        // ...\r\n        // 配置证书信息（使用上面生成的云端证书或者替换自己生成的证书）\r\n         signingConfigs {\r\n            config {\r\n                keyAlias '__uni__09c5ff7'  //  证书别名\r\n                keyPassword 'UX7ixYqn'     //  证书密码\r\n                storeFile file('test.keystore')  //  证书文件 （直接使用云端证书）\r\n                storePassword 'UX7ixYqn'  //  证书文件密码\r\n                v1SigningEnabled true\r\n                v2SigningEnabled true\r\n            }\r\n        }\r\n        //...\r\n    }\n"})})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,d.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(i,e)})):i(e)}let t=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["os%2F4.mdx"]={toc:[{id:"参考链接",text:"参考链接",depth:2},{id:"前期准备",text:"前期准备",depth:3},{id:"申请-appkey",text:"申请 Appkey",depth:3},{id:"配置流程",text:"配置流程",depth:3}],title:"UniApp Android本地打包配置",headingTitle:"UniApp Android本地打包配置",frontmatter:{}}}}]);