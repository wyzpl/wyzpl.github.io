(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["401"],{4926:function(e,s,n){"use strict";n.r(s);var r=n("2676"),c=n("453"),d=n("9639");function i(e){let s=Object.assign({h1:"h1",a:"a",div:"div",p:"p",code:"code",h3:"h3",strong:"strong",blockquote:"blockquote",pre:"pre"},(0,c.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.h1,{id:"\u6570\u636E\u5E93\u4F7F\u7528",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6570\u636E\u5E93\u4F7F\u7528",children:"#"}),"\u6570\u636E\u5E93\u4F7F\u7528"]}),"\n","\n",(0,r.jsxs)(s.div,{className:"rspress-directive tip",children:[(0,r.jsx)(s.div,{className:"rspress-directive-title",children:"TIP"}),(0,r.jsx)(s.div,{className:"rspress-directive-content",children:(0,r.jsxs)(s.p,{children:["\u672C\u9879\u76EE\u4E2D\u4F7F\u7528\u65B9\u5F0F\u5747\u4E3A ",(0,r.jsx)(s.code,{children:"Promise"})," \u65B9\u5F0F"]})})]}),"\n",(0,r.jsxs)(s.h3,{id:"\u5DE5\u5177\u5E93",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5DE5\u5177\u5E93",children:"#"}),"\u5DE5\u5177\u5E93"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"https://sidorares.github.io/node-mysql2/zh-CN/docs",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(s.strong,{children:"MySQL2"})})}),"\n",(0,r.jsx)(s.p,{children:"\u9002\u7528\u4E8ENode.js\u7684MySQL\u5BA2\u6237\u7AEF\uFF0C\u4E13\u6CE8\u4E8E\u6027\u80FD\u4F18\u5316\u3002\u652F\u6301SQL\u9884\u5904\u7406\u3001\u975EUTF-8\u7F16\u7801\u652F\u6301\u3001\u4E8C\u8FDB\u5236\u6587\u4EF6\u7F16\u7801\u652F\u6301\u3001\u538B\u7F29\u548CSSL\u7B49\u7B49\u3002"}),"\n",(0,r.jsxs)(s.h3,{id:"\u5B89\u88C5",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5B89\u88C5",children:"#"}),"\u5B89\u88C5"]}),"\n",(0,r.jsx)(s.p,{children:"MySQL2 \u53EF\u4EE5\u8DE8\u5E73\u53F0\u4F7F\u7528\uFF0C\u6BEB\u65E0\u7591\u95EE\u53EF\u4EE5\u5B89\u88C5\u5728 Linux\u3001Mac OS \u6216 Windows \u4E0A\u3002"}),"\n",(0,r.jsx)(d.PackageManagerTabs,{command:{Javascript:"pnpm install --save mysql2",Typscript:"pnpm install --save mysql2\npnpm install --save-dev @types/node"}}),"\n",(0,r.jsxs)(s.h3,{id:"\u94FE\u63A5\u65B9\u5F0F",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#\u94FE\u63A5\u65B9\u5F0F",children:"#"}),"\u94FE\u63A5\u65B9\u5F0F"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"https://sidorares.github.io/node-mysql2/zh-CN/docs/examples/connections/create-pool",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(s.strong,{children:"\u53C2\u8003\u6587\u6863"})})}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"\u9879\u76EE\u4E2D\u4F7F\u7528\u914D\u7F6E\u8FDB\u884C\u94FE\u63A5\u6570\u636E\u5E93"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"\u901A\u8FC7 connectionUri \u94FE\u63A5"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.code,{children:"mysql://root:password@localhost:3306/test"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u901A\u8FC7\u914D\u7F6E\u94FE\u63A5"})," ",(0,r.jsx)(s.a,{href:"https://sidorares.github.io/node-mysql2/zh-CN/docs/examples/connections/create-pool#pooloptions",target:"_blank",rel:"noopener noreferrer",children:"PoolOptions"})]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-js",meta:"",children:"{\r\n    host: 'localhost',\r\n    user: 'root',\r\n    database: 'test',\r\n    // port: 3306,\r\n    // password: '',\r\n  }\n"})}),"\n",(0,r.jsxs)(s.h3,{id:"\u5C01\u88C5\u65B9\u6CD5",children:[(0,r.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5C01\u88C5\u65B9\u6CD5",children:"#"}),"\u5C01\u88C5\u65B9\u6CD5"]}),"\n",(0,r.jsxs)(s.p,{children:["\u5728 ",(0,r.jsx)(s.code,{children:"lib"})," \u76EE\u5F55\u4E0B\u65B0\u589E  ",(0,r.jsx)(s.code,{children:"db.js"}),"\u5C01\u88C5\u6570\u636E\u5E93\u94FE\u63A5\u65B9\u6CD5\uFF0C\u5E76\u5728 ",(0,r.jsx)(s.code,{children:"env"})," \u6216 ",(0,r.jsx)(s.code,{children:"next.config.mjs"}),"\u4E2D\u7684 ",(0,r.jsx)(s.code,{children:"env"})," \u6DFB\u52A0\u6570\u636E\u5E93\u76F8\u5173\u914D\u7F6E\u4FE1\u606F"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-js",meta:'title="next.config.mjs"',children:'const nextConfig = {\r\n  env: {\r\n    MYSQL_HOST: process.env.MYSQL_HOST || "localhost",\r\n    MYSQL_PORT: process.env.MYSQL_PORT || "3306",\r\n    MYSQL_DATABASE: process.env.MYSQL_DATABASE || "test",\r\n    MYSQL_USER: process.env.MYSQL_USER || "root",\r\n    MYSQL_PASSWORD: process.env.MYSQL_PASSWORD || "****",\r\n  }\r\n};\n'})})]})}function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,c.ah)(),e.components);return s?(0,r.jsx)(s,Object.assign({},e,{children:(0,r.jsx)(i,e)})):i(e)}s.default=t,t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["tree%2Fdev%2F4.mdx"]={toc:[{id:"\u5DE5\u5177\u5E93",text:"\u5DE5\u5177\u5E93",depth:3},{id:"\u5B89\u88C5",text:"\u5B89\u88C5",depth:3},{id:"\u94FE\u63A5\u65B9\u5F0F",text:"\u94FE\u63A5\u65B9\u5F0F",depth:3},{id:"\u5C01\u88C5\u65B9\u6CD5",text:"\u5C01\u88C5\u65B9\u6CD5",depth:3}],title:"\u6570\u636E\u5E93\u4F7F\u7528",frontmatter:{}}}}]);